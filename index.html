<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI QR Code Generator ✨</title>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/framer-motion@11.2.12/dist/framer-motion.js"></script>
    <style>
        .glass {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .animate-blob {
            animation: blob 7s infinite;
        }
        .animation-delay-2000 {
            animation-delay: 2s;
        }
        .animation-delay-4000 {
            animation-delay: 4s;
        }
        @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
        }
        .tab-button {
            transition: all 0.3s ease;
        }
        .tab-button.active {
            background: white;
            color: #9333ea;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .qr-container {
            transition: all 0.3s ease;
        }
        .download-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: all 0.3s ease;
        }
        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100">
    <!-- Floating decorative elements -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none">
        <div class="absolute top-20 left-10 w-72 h-72 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"></div>
        <div class="absolute top-40 right-10 w-72 h-72 bg-yellow-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"></div>
        <div class="absolute -bottom-8 left-20 w-72 h-72 bg-pink-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"></div>
    </div>

    <main class="min-h-screen p-4 md:p-8">
        <div class="max-w-6xl mx-auto relative">
            <!-- Header -->
            <div class="text-center mb-10">
                <h1 class="text-5xl md:text-6xl font-bold gradient-text mb-4 flex items-center justify-center gap-2">
                    AI QR Code Generator ✨
                </h1>
                <p class="text-gray-600 text-lg">Tạo mã QR độc đáo với sức mạnh của AI ✨</p>
            </div>

            <!-- Tab Navigation -->
            <div class="flex justify-center mb-8">
                <div class="glass rounded-full p-2 flex gap-2">
                    <button id="qr-tab" class="tab-button active px-6 py-3 rounded-full font-semibold flex items-center gap-2">
                        ⚡ QR Code
                    </button>
                    <button id="ai-tab" class="tab-button px-6 py-3 rounded-full font-semibold flex items-center gap-2">
                        ❤️ AI + QR
                    </button>
                </div>
            </div>

            <!-- Content -->
            <div class="glass rounded-3xl p-8 md:p-12">
                <!-- QR Code Tab -->
                <div id="qr-content" class="qr-content">
                    <div class="max-w-2xl mx-auto">
                        <h2 class="text-3xl font-bold text-center mb-8 gradient-text">Tạo QR Code Cơ Bản</h2>
                        
                        <div class="space-y-6">
                            <!-- Input -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nội dung QR Code</label>
                                <input type="text" id="qr-input" placeholder="Nhập URL, văn bản, số điện thoại..." 
                                       class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                            </div>

                            <!-- Color Selection -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Màu sắc QR Code</label>
                                <div class="grid grid-cols-5 gap-3">
                                    <button class="color-btn active" data-color="#000000" style="background: #000000;"></button>
                                    <button class="color-btn" data-color="#3B82F6" style="background: #3B82F6;"></button>
                                    <button class="color-btn" data-color="#10B981" style="background: #10B981;"></button>
                                    <button class="color-btn" data-color="#F59E0B" style="background: #F59E0B;"></button>
                                    <button class="color-btn" data-color="#EF4444" style="background: #EF4444;"></button>
                                    <button class="color-btn" data-color="#8B5CF6" style="background: #8B5CF6;"></button>
                                    <button class="color-btn" data-color="#EC4899" style="background: #EC4899;"></button>
                                    <button class="color-btn" data-color="#06B6D4" style="background: #06B6D4;"></button>
                                    <button class="color-btn" data-color="#84CC16" style="background: #84CC16;"></button>
                                    <button class="color-btn" data-color="#F97316" style="background: #F97316;"></button>
                                </div>
                            </div>

                            <!-- Generate Button -->
                            <button id="generate-qr" class="download-btn w-full py-3 text-white font-semibold rounded-lg">
                                Tạo QR Code
                            </button>

                            <!-- Result -->
                            <div id="qr-result" class="hidden text-center">
                                <div class="bg-white rounded-lg p-6 inline-block">
                                    <canvas id="qr-canvas" class="mx-auto"></canvas>
                                </div>
                                <button id="download-qr" class="download-btn mt-4 px-6 py-2 text-white font-semibold rounded-lg">
                                    Tải xuống QR Code
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- AI QR Tab -->
                <div id="ai-content" class="qr-content hidden">
                    <div class="max-w-2xl mx-auto">
                        <h2 class="text-3xl font-bold text-center mb-8 gradient-text">AI QR Code Generator</h2>
                        
                        <div class="space-y-6">
                            <!-- QR Content -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nội dung QR Code</label>
                                <input type="text" id="ai-qr-input" placeholder="Nhập URL, văn bản..." 
                                       class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                            </div>

                            <!-- Image Description -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Mô tả hình ảnh</label>
                                <textarea id="image-description" rows="3" placeholder="Mô tả hình ảnh bạn muốn AI tạo..." 
                                          class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-transparent"></textarea>
                            </div>

                            <!-- Style Selection -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Phong cách nghệ thuật</label>
                                <select id="art-style" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                    <option value="digital art">Digital Art</option>
                                    <option value="watercolor">Watercolor</option>
                                    <option value="anime">Anime</option>
                                    <option value="oil painting">Oil Painting</option>
                                    <option value="minimalist">Minimalist</option>
                                    <option value="vintage">Vintage</option>
                                    <option value="cyberpunk">Cyberpunk</option>
                                    <option value="nature">Nature</option>
                                </select>
                            </div>

                            <!-- Generate Button -->
                            <button id="generate-ai-qr" class="download-btn w-full py-3 text-white font-semibold rounded-lg">
                                Tạo AI QR Code
                            </button>

                            <!-- AI Result -->
                            <div id="ai-result" class="hidden text-center">
                                <div class="bg-white rounded-lg p-6 inline-block">
                                    <img id="ai-image" class="max-w-full h-auto rounded-lg" alt="AI Generated Image">
                                </div>
                                <button id="download-ai-qr" class="download-btn mt-4 px-6 py-2 text-white font-semibold rounded-lg">
                                    Tải xuống AI QR Code
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <footer class="text-center mt-12">
                <p class="flex items-center justify-center gap-2 text-lg font-semibold bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent">
                    ✨ by Nguyen Thanh Nam ✨
                </p>
            </footer>
        </div>
    </main>

    <script>
        // Tab switching
        const qrTab = document.getElementById('qr-tab');
        const aiTab = document.getElementById('ai-tab');
        const qrContent = document.getElementById('qr-content');
        const aiContent = document.getElementById('ai-content');

        qrTab.addEventListener('click', () => {
            qrTab.classList.add('active');
            aiTab.classList.remove('active');
            qrContent.classList.remove('hidden');
            aiContent.classList.add('hidden');
        });

        aiTab.addEventListener('click', () => {
            aiTab.classList.add('active');
            qrTab.classList.remove('active');
            aiContent.classList.remove('hidden');
            qrContent.classList.add('hidden');
        });

        // Color selection
        const colorBtns = document.querySelectorAll('.color-btn');
        let selectedColor = '#000000';

        colorBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                colorBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                selectedColor = btn.dataset.color;
            });
        });

        // Basic QR Code Generation
        const generateQrBtn = document.getElementById('generate-qr');
        const qrInput = document.getElementById('qr-input');
        const qrResult = document.getElementById('qr-result');
        const qrCanvas = document.getElementById('qr-canvas');
        const downloadQrBtn = document.getElementById('download-qr');

        generateQrBtn.addEventListener('click', async () => {
            const text = qrInput.value.trim();
            if (!text) {
                alert('Vui lòng nhập nội dung cho QR code!');
                return;
            }

            try {
                generateQrBtn.textContent = 'Đang tạo...';
                generateQrBtn.disabled = true;

                await QRCode.toCanvas(qrCanvas, text, {
                    width: 256,
                    color: {
                        dark: selectedColor,
                        light: '#FFFFFF'
                    },
                    errorCorrectionLevel: 'H'
                });

                qrResult.classList.remove('hidden');
                generateQrBtn.textContent = 'Tạo QR Code';
                generateQrBtn.disabled = false;
            } catch (error) {
                alert('Có lỗi xảy ra khi tạo QR code!');
                generateQrBtn.textContent = 'Tạo QR Code';
                generateQrBtn.disabled = false;
            }
        });

        // Download QR Code
        downloadQrBtn.addEventListener('click', () => {
            const link = document.createElement('a');
            link.download = 'qr-code.png';
            link.href = qrCanvas.toDataURL();
            link.click();
        });

        // AI QR Code Generation (Simplified - using placeholder images)
        const generateAiQrBtn = document.getElementById('generate-ai-qr');
        const aiQrInput = document.getElementById('ai-qr-input');
        const imageDescription = document.getElementById('image-description');
        const artStyle = document.getElementById('art-style');
        const aiResult = document.getElementById('ai-result');
        const aiImage = document.getElementById('ai-image');
        const downloadAiQrBtn = document.getElementById('download-ai-qr');

        // Placeholder images for demo
        const placeholderImages = [
            'https://picsum.photos/400/400?random=1',
            'https://picsum.photos/400/400?random=2',
            'https://picsum.photos/400/400?random=3',
            'https://picsum.photos/400/400?random=4',
            'https://picsum.photos/400/400?random=5'
        ];

        generateAiQrBtn.addEventListener('click', async () => {
            const qrText = aiQrInput.value.trim();
            const description = imageDescription.value.trim();
            
            if (!qrText || !description) {
                alert('Vui lòng nhập đầy đủ thông tin!');
                return;
            }

            try {
                generateAiQrBtn.textContent = 'Đang tạo AI QR Code...';
                generateAiQrBtn.disabled = true;

                // Simulate AI generation with placeholder
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                // Use random placeholder image
                const randomImage = placeholderImages[Math.floor(Math.random() * placeholderImages.length)];
                aiImage.src = randomImage;
                
                aiResult.classList.remove('hidden');
                generateAiQrBtn.textContent = 'Tạo AI QR Code';
                generateAiQrBtn.disabled = false;
            } catch (error) {
                alert('Có lỗi xảy ra khi tạo AI QR code!');
                generateAiQrBtn.textContent = 'Tạo AI QR Code';
                generateAiQrBtn.disabled = false;
            }
        });

        // Download AI QR Code
        downloadAiQrBtn.addEventListener('click', () => {
            const link = document.createElement('a');
            link.download = 'ai-qr-code.png';
            link.href = aiImage.src;
            link.click();
        });
    </script>
</body>
</html>
